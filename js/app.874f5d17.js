(function(){"use strict";var e={664:function(e,t,s){var r=s(9963),i=s(6252);const a={class:"app"};function n(e,t,s,r,n,l){const o=(0,i.up)("user-form");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(o)])}var l=s(3577);const o=e=>((0,i.dD)("data-v-77be5c94"),e=e(),(0,i.Cn)(),e),c={class:"main-container"},u=o((()=>(0,i._)("div",null,[(0,i._)("h2",{class:"title"},"Список пользователей")],-1))),d={class:"form-search"},h=o((()=>(0,i._)("div",{class:"logo"},[(0,i._)("svg",{class:"search-logo",xmlns:"http://www.w3.org/2000/svg",width:"800",height:"800",viewBox:"0 0 1920 1920"},[(0,i._)("path",{"fill-rule":"evenodd",d:"M1458.948 1305.626c104.637-136.95 167.527-307.187 167.527-492.388C1626.475 364.764 \r\n\t\t\t\t\t\t1261.711 0 813.238 0 364.764 0 0 364.764 0 813.238c0 448.473 364.764 813.237 813.238 \r\n\t\t\t\t\t\t813.237 185.201 0 355.547-62.89 492.496-167.527L1766.678 1920 1920 1766.678l-461.052-461.052Zm-645.71 \r\n\t\t\t\t\t\t103.986c-328.874 0-596.375-267.61-596.375-596.374 0-328.765 267.501-596.375 596.375-596.375 328.873 0 \r\n\t\t\t\t\t\t596.374 267.61 596.374 596.375s-267.501 596.374-596.374 596.374Z"})])],-1))),m={class:"clean-user"},p=o((()=>(0,i._)("svg",{class:"clean-logo",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none"},[(0,i._)("path",{fill:"#4F4F4F",d:"m7.834 6.893-.097.49.097-.49Zm.8.477a.5.5 0 1 0 .867.5l-.866-.5ZM1.87 10.619l-.307-.394a.5.5 0 0 0 .057.827l.25-.433Zm6.928 \r\n\t\t\t\t\t\t4-.25.433a.5.5 0 0 0 .746-.364l-.496-.07ZM4.98 8.43l4.157 2.4.5-.866-4.157-2.4-.5.866Zm4.876 2.142a3.997 \r\n\t\t\t\t\t\t3.997 0 0 0 .204-1.85c-.1-.734-.459-1.515-1.316-2.01l-.5.866c.528.305.756.774.826 1.28a3 3 0 0 1-.152 \r\n\t\t\t\t\t\t1.365l.938.349Zm-1.112-3.86a2.658 2.658 0 0 0-.812-.31l-.196.98c.163.033.333.095.508.196l.5-.866Zm-.812-.31c-.716-.143-1.378.046-1.9.32a4.04 \r\n\t\t\t\t\t\t4.04 0 0 0-1.187.957l.77.637c.178-.215.494-.503.883-.709.388-.204.814-.309 1.239-.224l.195-.98Zm.335.74 1.834-3.175-.866-.5L7.4 \r\n\t\t\t\t\t\t6.643l.866.5Zm1.834-3.175c.022-.038.046-.084.06-.112.019-.033.033-.06.047-.082.03-.049.045-.058.041-.055a.081.081 0 0 \r\n\t\t\t\t\t\t1-.023.01c-.01.004-.017.003-.013.003.01 0 .073.008.204.083l.5-.866a1.465 1.465 0 0 0-.655-.216.927.927 0 0 \r\n\t\t\t\t\t\t0-.595.172c-.15.107-.246.242-.308.34-.031.052-.058.1-.078.138l-.046.085.866.5Zm.316-.153a.766.766 0 0 1 .213.16c.007.009-.01-.012-.009-.05 \r\n\t\t\t\t\t\t0-.022.007-.017-.02.037a1.478 1.478 0 0 1-.05.093l-.076.129.866.5c.035-.06.108-.18.16-.283.054-.113.118-.274.12-.467.004-.446-.308-.756-.704-.985l-.5.866Zm.058.369L8.635 \r\n\t\t\t\t\t\t7.37l.866.5 1.84-3.187-.866-.5Zm-5.552 3.42-3.361 2.622.615.788 3.36-2.621-.614-.789Zm4.37 7.085.59-4.221-.991-.139-.59 \r\n\t\t\t\t\t\t4.222.99.138Zm-7.674-3.636 1.732 1 .5-.866-1.732-1-.5.866Zm1.732 1 1.732 1 .5-.866-1.732-1-.5.866Zm1.732 1 1.732 1 .5-.866-1.732-1-.5.866Zm1.732 1 1.732 1 .5-.866-1.732-1-.5.866Z"}),(0,i._)("path",{stroke:"#4F4F4F","stroke-linecap":"round",d:"m3.768 11.33 1.41-1.11M7.232 13.33l.256-1.777M5.5 12.33l.5-.866"})],-1))),g={class:"sort-user"},v=o((()=>(0,i._)("div",null,"Сортировка:",-1))),f={class:"tab-select"},_={class:"select"},w=o((()=>(0,i._)("span",null,"Вы уверены, что хотите удалить пользователя?",-1))),U={class:"btns"};function b(e,t,s,a,n,o){const b=(0,i.up)("user-list");return(0,i.wg)(),(0,i.iD)("div",c,[u,(0,i._)("div",d,[h,(0,i.wy)((0,i._)("input",{class:"input",type:"text",placeholder:"Поиск по имени или e-mail","onUpdate:modelValue":t[0]||(t[0]=e=>n.searchUser=e)},null,512),[[r.nr,n.searchUser]]),(0,i.wy)((0,i._)("div",m,[p,(0,i._)("span",{onClick:t[1]||(t[1]=(...e)=>o.cleanFilter&&o.cleanFilter(...e))},"Очистить фильтр")],512),[[r.F8,n.active]])]),(0,i._)("div",g,[v,(0,i._)("div",f,[(0,i._)("div",{onClick:t[2]||(t[2]=e=>o.sortByDateRegistr("first")),class:(0,l.C_)([{"active-sort":n.isActive["first"]},"sort-user__selection"])}," Дата регистрации ",2),(0,i._)("div",{onClick:t[3]||(t[3]=e=>o.sortByRating("second")),class:(0,l.C_)([{"active-sort":n.isActive["second"]},"sort-user__selection"])}," Рейтинг ",2)])]),(0,i.Wm)(b,{users:n.users,searchUser:n.searchUser,onOpenModal:o.activeModal,pages:n.pages},null,8,["users","searchUser","onOpenModal","pages"]),(0,i._)("div",{class:(0,l.C_)(["dialog",{"dialog-active":n.visibleModal}])},[(0,i._)("div",{onClick:t[6]||(t[6]=(0,r.iM)((()=>{}),["stop"])),class:"dialog__content"},[(0,i._)("div",_,[w,(0,i._)("div",U,[(0,i._)("button",{onClick:t[4]||(t[4]=(...e)=>o.deleteUser&&o.deleteUser(...e)),class:"btn"},"Да"),(0,i._)("button",{onClick:t[5]||(t[5]=(...e)=>o.noDeleteUser&&o.noDeleteUser(...e)),class:"btn selected-no"},"Нет")])])])],2)])}s(7658);const C=e=>((0,i.dD)("data-v-dc61df2c"),e=e(),(0,i.Cn)(),e),y={class:"content-users"},k={class:"user-list"},D={key:0,class:"user-list__item"},Z=C((()=>(0,i._)("tr",{class:"tr-user"},[(0,i._)("th",null,"Имя пользователя"),(0,i._)("th",null,"E-mail"),(0,i._)("th",null,"Дата регистрации"),(0,i._)("th",null,"Рейтинг")],-1))),L={key:1,class:"list-empty"};function M(e,t,s,r,a,n){const l=(0,i.up)("user-item"),o=(0,i.up)("pagination-item");return(0,i.wg)(),(0,i.iD)("div",y,[(0,i._)("div",k,[n.filteredUser.length?((0,i.wg)(),(0,i.iD)("table",D,[(0,i._)("tbody",null,[Z,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.filteredUser,(t=>((0,i.wg)(),(0,i.iD)("tr",{class:"tr-user",key:t.id},[(0,i.Wm)(l,{user:t,onOpenModal:s=>e.$emit("open-modal",!0,t)},null,8,["user","onOpenModal"])])))),128))])])):((0,i.wg)(),(0,i.iD)("div",L,"Список пользователей пуст!"))]),(0,i.Wm)(o,{users:s.users,onPageClick:n.pageClick,pageNumber:a.pageNumber,filteredUserSize:n.filteredUserSize},null,8,["users","onPageClick","pageNumber","filteredUserSize"])])}const O={class:"pagination"},I=["onClick"];function F(e,t,s,r,a,n){return(0,i.wg)(),(0,i.iD)("div",O,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.pages,(e=>((0,i.wg)(),(0,i.iD)("div",{class:(0,l.C_)(["pagination-item",{active:e===s.pageNumber}]),key:e.id,onClick:t=>n.pageClick(e)},[(0,i._)("div",null,(0,l.zw)(e),1)],10,I)))),128))])}var z={name:"pagination-item",props:{users:{type:Array,required:!0},pageNumber:{type:Number,required:!0},filteredUserSize:{type:Array}},methods:{pageClick(e){this.$emit("page-click",e)}},computed:{pages(){return Math.ceil(this.filteredUserSize.length/5)}}},A=s(3744);const P=(0,A.Z)(z,[["render",F],["__scopeId","data-v-36ced3c8"]]);var N=P;const S={class:"user-item username"},j={class:"user-item"},x={class:"user-item"},R={class:"user-item"};function q(e,t,s,r,a,n){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("td",S,(0,l.zw)(s.user.username),1),(0,i._)("td",j,(0,l.zw)(s.user.email),1),(0,i._)("td",x,(0,l.zw)(n.regDate(s.user.registration_date)),1),(0,i._)("td",R,(0,l.zw)(s.user.rating),1),(0,i._)("div",{onClick:t[0]||(t[0]=t=>e.$emit("open-modal",!0,s.user)),class:"btn"})],64)}var $={name:"user-item",props:{user:{type:Object,required:!0}},emits:["open-modal"],methods:{regDate(e){let t=new Date(e),s=t.getDate();s<10&&(s="0"+s);let r=t.getMonth()+1;r<10&&(r="0"+r);let i=t.getFullYear()%100;return i<10&&(i="0"+i),`${s}.${r}.${i}`}}};const B=(0,A.Z)($,[["render",q],["__scopeId","data-v-0f1a9ae3"]]);var E=B,W={components:{UserItem:E,PaginationItem:N},name:"user-list",data(){return{isActive:{},usersPerPage:5,pageNumber:1,pagesCheck:[]}},props:{users:{type:Array,required:!0},searchUser:{type:String,required:!0},pages:{type:Array,required:!0}},emits:["user","open-modal"],computed:{filteredUser(){let e=(this.pageNumber-1)*this.usersPerPage,t=e+this.usersPerPage;return this.users.filter((e=>e.username.toLowerCase().includes(this.searchUser.toLowerCase())||e.email.toLowerCase().includes(this.searchUser.toLowerCase()))).slice(e,t)},filteredUserSize(){return this.users.filter((e=>e.username.toLowerCase().includes(this.searchUser.toLowerCase())||e.email.toLowerCase().includes(this.searchUser.toLowerCase())))}},methods:{pageClick(e){this.pageNumber=e}},watch:{searchUser(){this.pageNumber=1,this.pagesCheck.filter((e=>e.username.toLowerCase().includes(this.searchUser.toLowerCase())||e.email.toLowerCase().includes(this.searchUser.toLowerCase())))}}};const Y=(0,A.Z)(W,[["render",M],["__scopeId","data-v-dc61df2c"]]);var H=Y,K={components:{UserList:H},name:"user-form",data(){return{sortRate:!0,sortDate:!0,isActive:{},active:!1,visibleModal:!1,searchUser:"",users:[],filterUser:[],currentUser:[],userItem:{},currentListUser:[],pages:[]}},methods:{async getUsers(){try{const e=await fetch("https://5ebbb8e5f2cfeb001697d05c.mockapi.io/users"),t=await e.json();this.users=t,this.users.forEach((e=>this.currentListUser.push(e)))}catch(e){alert("Error User",e)}},deleteUser(){this.users=this.users.filter((e=>e.id!==this.currentUser[0].id)),this.currentListUser=this.currentListUser.filter((e=>e.id!==this.currentUser[0].id)),this.visibleModal=!1,this.currentUser=[]},noDeleteUser(){this.visibleModal=!1,this.currentUser=[]},activeModal(e,t){this.currentUser.push(t),this.visibleModal=e},activeSort(e){this.isActive={[e]:!0}},sortByDateRegistr(e){this.activeSort(e),this.userItem=null,this.sortDate=!this.sortDate,this.sortDate?this.users.sort(((e,t)=>e.registration_date.localeCompare(t.registration_date))):this.users.sort(((e,t)=>t.registration_date.localeCompare(e.registration_date))),this.userItem=this.users},sortByRating(e){this.activeSort(e),this.userItem=null,this.sortRate=!this.sortRate,this.sortRate?this.users.sort(((e,t)=>e.rating-t.rating)):this.users.sort(((e,t)=>t.rating-e.rating)),this.userItem=this.users},cleanFilter(){this.isActive={},this.searchUser="",this.userItem=null,this.users=[],this.currentListUser.forEach((e=>{this.users.push(e)}))}},watch:{searchUser(){this.searchUser?this.active=!0:this.active=!1},userItem(){this.userItem?this.active=!0:this.active=!1}},mounted(){this.getUsers()}};const T=(0,A.Z)(K,[["render",b],["__scopeId","data-v-77be5c94"]]);var V=T,G={components:{UserForm:V},name:"App"};const J=(0,A.Z)(G,[["render",n]]);var Q=J;(0,r.ri)(Q).mount("#app")}},t={};function s(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,s),a.exports}s.m=e,function(){var e=[];s.O=function(t,r,i,a){if(!r){var n=1/0;for(u=0;u<e.length;u++){r=e[u][0],i=e[u][1],a=e[u][2];for(var l=!0,o=0;o<r.length;o++)(!1&a||n>=a)&&Object.keys(s.O).every((function(e){return s.O[e](r[o])}))?r.splice(o--,1):(l=!1,a<n&&(n=a));if(l){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,i,a]}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,a,n=r[0],l=r[1],o=r[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(i in l)s.o(l,i)&&(s.m[i]=l[i]);if(o)var u=o(s)}for(t&&t(r);c<n.length;c++)a=n[c],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(u)},r=self["webpackChunktest_labmedia"]=self["webpackChunktest_labmedia"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(664)}));r=s.O(r)})();
//# sourceMappingURL=app.874f5d17.js.map